{% extends "base.html" %}
{% block title %}My profile{% endblock %}

{% block content %}
<div class="page-container">

  <h1 class="page-title">My profile</h1>
  <p class="page-subtitle">
    Here you can view and update your personal data.
  </p>

  {% if error %}
    <div style="padding:10px 14px;border-radius:8px;background:#fee2e2;color:#991b1b;margin-bottom:10px;">
      {{ error }}
    </div>
  {% endif %}
  {% if success %}
    <div style="padding:10px 14px;border-radius:8px;background:#dcfce7;color:#166534;margin-bottom:10px;">
      {{ success }}
    </div>
  {% endif %}

  <form method="post"
        style="max-width:500px;background:#ffffff;border-radius:12px;
               box-shadow:0 4px 16px rgba(0,0,0,0.08);padding:20px;">

    <div style="margin-bottom:12px;">
      <label for="name" style="display:block;font-weight:500;margin-bottom:4px;">Name</label>
      <input type="text" id="name" name="name"
             value="{{ user.name }}"
             style="width:100%;padding:8px;border-radius:6px;border:1px solid #d1d5db;">
    </div>

    <div style="margin-bottom:12px;">
      <label for="email" style="display:block;font-weight:500;margin-bottom:4px;">Email</label>
      <input type="email" id="email" name="email"
             value="{{ user.email }}"
             style="width:100%;padding:8px;border-radius:6px;border:1px solid #d1d5db;">
    </div>

    <div style="margin-bottom:12px;">
      <label for="address" style="display:block;font-weight:500;margin-bottom:4px;">Address</label>
      <input type="text" id="address" name="address"
             value="{{ user.address or '' }}"
             style="width:100%;padding:8px;border-radius:6px;border:1px solid #d1d5db;">
    </div>

    <div style="margin-bottom:12px;">
      <label for="phone" style="display:block;font-weight:500;margin-bottom:4px;">Phone</label>
      <input type="text" id="phone" name="phone"
             value="{{ user.phone or '' }}"
             style="width:100%;padding:8px;border-radius:6px;border:1px solid #d1d5db;">
    </div>

    <div style="margin-bottom:12px;">
      <label style="display:block;font-weight:500;margin-bottom:4px;">Customer type</label>
      <input type="text"
             value="{{ user.kind|capitalize }}"
             readonly
             style="width:100%;padding:8px;border-radius:6px;border:1px solid #e5e7eb;background:#f9fafb;">
    </div>

    {% if user.kind == 'private' and user.birthdate %}
      <div style="margin-bottom:12px;">
        <label style="display:block;font-weight:500;margin-bottom:4px;">Birthdate</label>
        <input type="text"
               value="{{ user.birthdate }}"
               readonly
               style="width:100%;padding:8px;border-radius:6px;border:1px solid #e5e7eb;background:#f9fafb;">
      </div>
    {% elif user.kind == 'company' and user.company_number %}
      <div style="margin-bottom:12px;">
        <label style="display:block;font-weight:500;margin-bottom:4px;">Company number</label>
        <input type="text"
               value="{{ user.company_number }}"
               readonly
               style="width:100%;padding:8px;border-radius:6px;border:1px solid #e5e7eb;background:#f9fafb;">
      </div>
    {% endif %}

    <button type="submit" class="btn-pill">
      Save changes
    </button>
  </form>

  <div style="margin-top:20px;">
    <a href="{{ url_for('my_orders') }}" class="nav-link">View my orders</a>
  </div>

</div>
{% endblock %}
