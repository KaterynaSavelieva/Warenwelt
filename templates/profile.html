{% extends "base.html" %}
{% block title %}My profile{% endblock %}

{% block content %}
<div class="page-container">

  <h1 class="page-title">My profile</h1>
  <p class="page-subtitle">
    Here you can view and update your personal data.
  </p>

  {% if error %}
    <div class="login-error">{{ error }}</div>
  {% endif %}

  {% if success %}
    <div class="login-success">{{ success }}</div>
  {% endif %}

  <form method="post" class="form-card">

    <!-- NAME -->
    <div class="form-field">
      <label for="name" class="form-label">Name</label>
      <input type="text"
             id="name"
             name="name"
             class="input-text"
             value="{{ user.name }}">
    </div>

    <!-- EMAIL -->
    <div class="form-field">
      <label for="email" class="form-label">Email</label>
      <input type="email"
             id="email"
             name="email"
             class="input-text"
             value="{{ user.email }}">
    </div>

    <!-- ADDRESS -->
    <div class="form-field">
      <label for="address" class="form-label">Address</label>
      <input type="text"
             id="address"
             name="address"
             class="input-text"
             value="{{ user.address or '' }}">
    </div>

    <!-- PHONE -->
    <div class="form-field">
      <label for="phone" class="form-label">Phone</label>
      <input type="text"
             id="phone"
             name="phone"
             class="input-text"
             value="{{ user.phone or '' }}">
    </div>

    <!-- KIND (READONLY) -->
    <div class="form-field">
      <label class="form-label">Customer type</label>
      <input type="text"
             class="input-text readonly-field"
             value="{{ user.kind|capitalize }}"
             readonly>
    </div>

    <!-- PRIVATE: BIRTHDATE -->
    {% if user.kind == 'private' and user.birthdate %}
      <div class="form-field">
        <label class="form-label">Birthdate</label>
        <input type="text"
               class="input-text readonly-field"
               value="{{ user.birthdate }}"
               readonly>
      </div>
    {% endif %}

    <!-- COMPANY: COMPANY NUMBER -->
    {% if user.kind == 'company' and user.company_number %}
      <div class="form-field">
        <label class="form-label">Company number</label>
        <input type="text"
               class="input-text readonly-field"
               value="{{ user.company_number }}"
               readonly>
      </div>
    {% endif %}

    <!-- SUBMIT BUTTON -->
    <button type="submit" class="btn-primary">
      Save changes
    </button>

  </form>

  <div class="profile-links">
    <a href="{{ url_for('my_orders') }}" class="nav-link">View my orders</a>
  </div>

</div>
{% endblock %}
