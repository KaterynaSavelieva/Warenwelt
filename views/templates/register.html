{% extends "base.html" %}
{% block title %}Register{% endblock %}

{% block content %}
<div class="page-container">

  <h1 class="page-title">Register</h1>
  <p class="page-subtitle">
    Create a new customer account for the online shop.
  </p>

  <div class="divider"></div>

  {# Error message from backend #}
  {% if error %}
    <div class="flash-message flash-error">
      {{ error }}
    </div>
  {% endif %}

  <form method="post"
        autocomplete="off"
        class="form-card">

    <!-- Name -->
    <p class="form-field">
      <label class="form-label">Name:</label>
      <input type="text"
             name="name"
             value="{{ form.name or '' }}"
             required
             class="input-text">
    </p>

    <!-- Email -->
    <p class="form-field">
      <label class="form-label">Email:</label>
      <input type="email"
             name="email"
             value="{{ form.email or '' }}"
             required
             class="input-text">
    </p>

    <!-- Address -->
    <p class="form-field">
      <label class="form-label">Address (optional):</label>
      <input type="text"
             name="address"
             value="{{ form.address or '' }}"
             class="input-text">
    </p>

    <!-- Phone -->
    <p class="form-field">
      <label class="form-label">Phone (optional):</label>
      <input type="tel"
             name="phone"
             value="{{ form.phone or '' }}"
             class="input-text">
    </p>

    <!-- Kind: private / company -->
    <p class="form-field">
      <label class="form-label">Kind:</label>
      <select name="kind"
              id="kind-select"
              class="input-text">
        <option value="private"
                {% if form.kind == 'private' %}selected{% endif %}>
          Private
        </option>
        <option value="company"
                {% if form.kind == 'company' %}selected{% endif %}>
          Company
        </option>
      </select>
    </p>

    <!-- Password -->
    <p class="form-field">
      <label class="form-label">Password:</label>
      <div class="password-field">
        <input type="password"
               id="password"
               name="password"
               required
               autocomplete="off"
               class="input-text">
        <span class="password-eye"
              data-target="password">
          ğŸ‘ï¸
        </span>
      </div>
    </p>

    <!-- Repeat password -->
    <p class="form-field">
      <label class="form-label">Repeat password:</label>
      <div class="password-field">
        <input type="password"
               id="password2"
               name="password2"
               required
               autocomplete="off"
               class="input-text">
        <span class="password-eye"
              data-target="password2">
          ğŸ‘ï¸
        </span>
      </div>
    </p>

    <!-- Birthdate (only for private customers) -->
    <p class="form-field" id="birthdate-group">
      <label class="form-label">Birthdate (for private customers):</label>
      <input type="date"
             id="birthdate"
             name="birthdate"
             class="input-text">
    </p>

    <!-- Company number (only for company customers) -->
    <p class="form-field" id="company-group">
      <label class="form-label">Company number (for company customers):</label>
      <input type="text"
             name="company_number"
             class="input-text">
    </p>

    <!-- Submit button -->
    <p class="login-submit">
      <button type="submit" class="btn-primary">
        Register
      </button>
    </p>

  </form>
</div>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='js/register.js') }}"></script>
{% endblock %}
